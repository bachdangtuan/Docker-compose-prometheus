global:
  resolve_timeout: 1m




receivers:
- name: phongkham40-telegram
  webhook_configs:
  - url: 'http://10.0.0.13:9087/alert/-988783003'

- name: nhidongthanhpho-telegram
  webhook_configs:
  - url: 'http://10.0.0.13:9087/alert/-901133248'

- name: systems-team-telegram
  webhook_configs:
  - url: 'http://10.0.0.13:9087/alert/-815609975'


route:
  continue: false
  group_by: ['instance']
  group_interval: 1m
  group_wait: 10s
  repeat_interval: 1m
  receiver: systems-team-telegram
  routes:
##################### RAM #######################
    # PHòng Khám 40
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.230:19100
        category: memory  
      receiver: phongkham40-telegram
      group_wait: 2s
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.231:9100
        category: memory  
      receiver: phongkham40-telegram
      group_wait: 2s

    # Nhi Đồng Thành Phố
    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.38:9100
        category: memory  
      receiver: nhidongthanhpho-telegram
      group_wait: 2s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.40:9100
        category: memory  
      receiver: nhidongthanhpho-telegram
      group_wait: 2s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.41:9100
        category: memory  
      receiver: nhidongthanhpho-telegram
      group_wait: 2s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.42:9100
        category: memory  
      receiver: nhidongthanhpho-telegram
      group_wait: 2s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.43:9100
        category: memory  
      receiver: nhidongthanhpho-telegram
      group_wait: 2s   
   
#################### CPU ##################################
    # PHòng Khám 40
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.230:19100
        category: cpu  
      receiver: phongkham40-telegram
      group_wait: 2s
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.231:9100
        category: cpu  
      receiver: phongkham40-telegram
      group_wait: 2s
    # Nhi Đồng Thành Phố
    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.38:9100
        category: cpu  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.40:9100
        category: cpu  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.41:9100
        category: cpu  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.42:9100
        category: cpu  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.43:9100
        category: cpu  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s


#################### DISK ##############################
    # PHòng Khám 40
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.230:19100
        category: cpu  
      receiver: phongkham40-telegram
      group_wait: 2s
    - match:
        app_type: Phòng Khám 40
        instance: 192.168.10.231:9100
        category: cpu  
      receiver: phongkham40-telegram
      group_wait: 2s

    # Nhi Đồng Thành Phố
    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.38:9100
        category: disk  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.40:9100
        category: disk  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.41:9100
        category: disk  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.42:9100
        category: disk  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

    - match:
        app_type: Nhi Đồng Thành Phố
        instance: 10.0.2.43:9100
        category: disk  
      receiver: nhidongthanhpho-telegram
      group_wait: 1s

